(()=>{var t,e={382:()=>{$((function(){"use strict";var t={tooltips:{callbacks:{label:function(t,e){return e.datasets[t.datasetIndex].data[t.index].toLocaleString("en-US",{style:"currency",currency:"UGX"})}}},datalabels:{anchor:"end",align:"top",color:"#333",font:{weight:"bold"},formatter:function(t){return"UGX ".concat(t.toLocaleString())}},scales:{yAxes:[{ticks:{beginAtZero:!0,callback:function(t,e,a){return t.toLocaleString()}}}]},legend:{display:!0,position:"bottom",onClick:function(){alert("hello")}},elements:{point:{radius:4,hitRadius:7,pointStyle:"circle"}}};if($("#cashFlowChart").length){var e=$("#cashFlowChart").get(0).getContext("2d");new Chart(e,{type:"line",data:{labels:cashFlowChartLabels,datasets:[{label:"Cash Inflows",data:[],borderColor:"rgb(136,211,202)",backgroundColor:"rgb(136,211,202)",fill:!1,tension:.1},{label:"Cash Outflows",data:cashFlowExpenseChartData,borderColor:"rgb(226,161,153)",backgroundColor:"rgb(226,161,153)",fill:!1,tension:.1}]},options:t})}if($("#cashBalanceChart").length){var a=$("#cashBalanceChart").get(0).getContext("2d");new Chart(a,{type:"bar",data:{labels:cashBalanceChartLabels,datasets:[{label:"Cash Balance",data:cashBalanceChartData,backgroundColor:["rgba(75, 192, 192, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(231, 233, 237, 0.2)","rgba(255, 159, 64, 0.2)","rgba(153, 102, 255, 0.2)"],borderColor:["rgba(75, 192, 192, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(231, 233, 237, 1)","rgba(255, 159, 64, 1)","rgba(153, 102, 255, 1)"],borderWidth:1}]},options:t})}if($("#expenseByCategoryChart").length){var n=$("#expenseByCategoryChart").get(0).getContext("2d");new Chart(n,{type:"bar",data:{labels:expenseByCategoryChartLabels,datasets:[{label:"Cash Balance",data:expenseByCategoryChartData,backgroundColor:["rgba(75, 192, 192, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(231, 233, 237, 1)","rgba(255, 159, 64, 1)","rgba(75, 192, 192, 1)"],borderColor:["rgba(75, 192, 192, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(231, 233, 237, 1)","rgba(255, 159, 64, 1)","rgba(153, 102, 255, 1)"],borderWidth:1}]},options:t})}if($("#budgetVsActualExpenseChart").length){var r=$("#budgetVsActualExpenseChart").get(0).getContext("2d");new Chart(r,{type:"bar",data:{labels:budgetVsActualExpenseChartLabels,datasets:[{label:"Cash Balance",data:budgetVsActualExpenseChartData,backgroundColor:["rgba(75, 192, 192, 1)","rgb(250, 96, 114)"],borderColor:["rgba(75, 192, 192, 1)","rgba(54, 162, 235, 1)"],borderWidth:1}]},options:t})}$("#itemsTable").length&&c("#itemList-0"),$("#itemsTable").on("input",".item-input",(function(){var t,e=$(this).val(),a=$(this).closest(".item-row"),n=(t=e,s.find((function(e){return e.name===t})));n&&(a.find('input[name$="[quantity]"]').val(n.quantity),a.find('input[name$="[unit_price]"]').val(n.price))}));var o=1;$("#addItem").on("click",(function(){var t='\n        <tr class="item-row">\n            <td>\n                <input list="itemList-'.concat(o,'" name="items[').concat(o,'][name]" placeholder="Type or Select Item" class="form-control item-input">\n                <datalist id="itemList-').concat(o,'">\n                    \x3c!-- Options will be populated dynamically here --\x3e\n                </datalist>\n            </td>\n             <td>\n                <textarea name="items[').concat(o,'][description]" placeholder="description" class="form-control"></textarea>\n            </td>\n            <td>\n                <input type="text" name="items[').concat(o,'][quantity]" placeholder="Quantity" class="form-control">\n            </td>\n            <td>\n                <input type="text" name="items[').concat(o,'][unit_price]" data-bs-type="currency" placeholder="Unit Price" class="form-control">\n            </td>\n            <td>\n                <button type="button" class="btn btn-danger remove-item">Remove</button>\n            </td>\n        </tr>');$("#itemsTable").append(t),c("#itemList-".concat(o)),o++}));var s=[];function c(t){var e=$('meta[name="base-url"]').attr("content");$.ajax({url:e+"/accounting/products",method:"GET",success:function(e){s=e,$(t).empty(),$.each(e,(function(e,a){$(t).append('<option value="'+a.name+'">')}))},error:function(){alert("Failed to load products.")}})}$(document).on("click",".remove-item",(function(){$(this).closest("tr").remove()})),$("#invoiceForm").on("submit",(function(t){t.preventDefault();var e=$(this).serialize();$.ajax({url:$(this).attr("action"),type:"POST",data:e,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},success:function(t){t.success?(alert("Invoice created successfully!"),window.location.href="/accounting/invoices"):alert("Something went wrong: "+t.message)},error:function(t){var e=t.responseJSON.errors;for(var a in e)alert(e[a])}})})),$("#recentExensesOffcanvasID").on("show.bs.offcanvas",(function(){var t=$(this).attr("data-url"),e=$(this).find(".offcanvas-body");e.html('<p class="text-center p-3">Loading expenses...</p>'),$.ajax({url:t,method:"GET",dataType:"json",success:function(t){e.empty(),0!==t.length?$.each(t,(function(t,a){var n=a.expense_category?a.expense_category.name:"Unknown",r=new Intl.NumberFormat("en-UG",{style:"currency",currency:a.currency}).format(a.amount),o="1"===a.paid?'<span class="badge bg-success">Paid</span>':'<span class="badge bg-warning">Pending</span>',s='\n                        <div class="card m-2 shadow-sm">\n                            <div class="card-body row">\n                                <div class="col-lg-12 text-capitalize">\n                                    <h5 class="mb-1 text-primary">'.concat(n,'</h5>\n\n                                </div>\n                                <div class="col-lg-6"><small class="text-muted">Ref: ').concat(a.reference,'</small></div>\n                                <div class="col-lg-6 text-end"><small class="text-muted">Date: ').concat(a.expense_date,'</small></div>\n                                <div class="col-lg-6">\n                                    <strong>').concat(r,'</strong>\n                                </div>\n                                <div class="col-lg-6 text-end">\n                                    ').concat(o,"\n                                </div>\n                            </div>\n                        </div>\n                    ");e.append(s)})):e.html('<p class="text-center p-3">No recent expenses found.</p>')},error:function(){e.html('<p class="text-center text-danger p-3">Failed to load expenses. Try again.</p>')}})}))}))},959:()=>{}},a={};function n(t){var r=a[t];if(void 0!==r)return r.exports;var o=a[t]={exports:{}};return e[t](o,o.exports,n),o.exports}n.m=e,t=[],n.O=(e,a,r,o)=>{if(!a){var s=1/0;for(d=0;d<t.length;d++){for(var[a,r,o]=t[d],c=!0,l=0;l<a.length;l++)(!1&o||s>=o)&&Object.keys(n.O).every((t=>n.O[t](a[l])))?a.splice(l--,1):(c=!1,o<s&&(s=o));if(c){t.splice(d--,1);var i=r();void 0!==i&&(e=i)}}return e}o=o||0;for(var d=t.length;d>0&&t[d-1][2]>o;d--)t[d]=t[d-1];t[d]=[a,r,o]},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={405:0,212:0};n.O.j=e=>0===t[e];var e=(e,a)=>{var r,o,[s,c,l]=a,i=0;if(s.some((e=>0!==t[e]))){for(r in c)n.o(c,r)&&(n.m[r]=c[r]);if(l)var d=l(n)}for(e&&e(a);i<s.length;i++)o=s[i],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(d)},a=self.webpackChunk=self.webpackChunk||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))})(),n.O(void 0,[212],(()=>n(382)));var r=n.O(void 0,[212],(()=>n(959)));r=n.O(r)})();